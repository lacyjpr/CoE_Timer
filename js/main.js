$(document).ready(function(){function e(e){u.play(),$(".getToWork").removeClass("hidden"),$(".progress").animate({width:"100%"},1e3*n(e)),$(".progress").queue(function(){$(this).dequeue()});var o=n(e);a=setInterval(function(){o-=1,o<=0&&($(".getToWork").addClass("hidden"),$(".progress").animate({width:"0%"},0),clearInterval(a),t(i+":00")),$(".content").html(r(o))},1e3)}function t(t){u.play(),$(".takeABreak").removeClass("hidden"),$(".breakTimer").animate({width:"100%"},1e3*n(t)),$(".breakTimer").queue(function(){$(this).dequeue()});var i=n(t);a=setInterval(function(){i-=1,i<=0&&($(".takeABreak").addClass("hidden"),$(".breakTimer").animate({width:"0%"},0),clearInterval(a),e(o+":00")),$(".content").html(r(i))},1e3)}function n(e){var t=e.split(":"),n=t[0],r=t[1];return parseInt(r,10)+60*parseInt(n,10)}function r(e){var t=Math.floor(e/60),n=e-60*t;return n=n<10?"0"+n:n,t+":"+n}var a,i=5,o=25,s="",u=new Audio("/media/alarm.mp3");$(".breakPlus").on("click",function(){i<999&&"running"!==s&&(i++,$(".breakTime").html(i))}),$(".breakMinus").on("click",function(){i>1&&"running"!==s&&(i--,$(".breakTime").html(i))}),$(".workPlus").on("click",function(){o<999&&"running"!==s&&(o++,$(".workTime").html(o),$(".content").html(o+":00"))}),$(".workMinus").on("click",function(){o>1&&"running"!==s&&(o--,$(".workTime").html(o),$(".content").html(o+":00"))}),$(".reset").on("click",function(){i=5,o=25,s="",$(".breakTime").html(i),$(".workTime").html(o),$(".content").html("25:00"),clearInterval(a),$(".progress").stop(!0,!0),$(".progress").animate({width:"0%"},0),$(".breakTimer").stop(!0,!0),$(".breakTimer").animate({width:"0%"},0),$(".getToWork").addClass("hidden"),$(".takeABreak").addClass("hidden")}),$(".start").on("click",function(){switch($(this).text()){case"Start":s="running",$("button.start").text("Pause"),$(".takeABreak").hasClass("hidden")?e($(".content").text()):t($(".content").text());break;case"Pause":s="paused",clearInterval(a),$("button.start").text("Start"),$(".takeABreak").hasClass("hidden")?($(".progress").clearQueue(),$(".progress").stop()):($(".breakTimer").clearQueue(),$(".breakTimer").stop())}})});